{
"p4_flow_rules":
{
    "registers":
    {
        "my_register":
        {
            "lock": true
        }
    },
    "locks":
    [
        "mac_learn_lock"
    ],
    "tables":
    {
        "smac":
        {
            "mac_learn":
            {
                "actions": ["controller"],
                "priority": 0,
                "match": "*"
            },
            "_nop":
            {
                "actions": ["resubmit"],
                "priority": 32768,
                "match":
                [
                    "ethernet__srcAddr=0x08002715b411",
                    "ethernet__srcAddr=0x0800277e0b95"
                ],
                "lock": "mac_learn_lock"
            }
        },
        "dmac":
        {
            "forward":
            {
                "actions": ["register_read:my_register[0]->reg4", "resubmit"],
                "priority": 32768,
                "match":
                [
                    "ethernet__dstAddr=0x08002715b411",
                    "ethernet__dstAddr=0x0800277e0b95"
                ]
            },
            "broadcast":
            {
                "actions": ["flood"],
                "priority": 0,
                "match": "*"
            }
        },
        "mcast_src_pruning":
        {
            "_nop":
            {
                "actions": ["deparse","output:2"],
                "priority": 0,
                "match": "*"
            },
            "_drop":
            {
                "actions": [""],
                "priority": 32768,
                "match":
                [
                    "ethernet__dstAddr=0x08002715b411,in_port=1",
                    "ethernet__dstAddr=0x0800277e0b95,in_port=2"
                ]
            }
        }        
    }
}
}
